/*
 * TAILWIND CSS v4 SETUP
 * =====================
 * Per the official upgrade guide (https://tailwindcss.com/docs/upgrade-guide):
 *
 * 1. @import "tailwindcss" FIRST (replaces @tailwind directives)
 * 2. @plugin for loading plugins (replaces JS config plugins array)
 * 3. @source for content paths (replaces JS config content array)
 * 4. @theme AFTER tailwindcss (replaces JS config theme object)
 *
 * CSS variable files (design-tokens, typography, etc.) come before or after
 * as long as @theme comes AFTER @import "tailwindcss".
 *
 * NOTE: All @import statements must come before @plugin/@source/@custom-variant
 * to satisfy PostCSS parsing rules (required by Storybook's Vite pipeline).
 */

/* 1. Raw CSS variables that @theme will reference via var() */
@import '../styleguide/design-tokens.css';

/* 2. Core Tailwind - MUST come before @theme, @plugin, @source */
@import 'tailwindcss';

/* 3. Tailwind v4 plugin (replaces plugins[] in tailwind.config.js) */
@plugin "@tailwindcss/typography";

/* 4. Content sources (replaces content[] in tailwind.config.js) */
@source "../app";
@source "../components";
@source "../styleguide";

/* 5. Theme tokens - @theme MUST come AFTER @import "tailwindcss" */
@import '../styleguide/tailwind-theme.css';

/* 6. Additional CSS */
@import '../styleguide/typography.css';
@import '../styleguide/styleguide-scope.css';
@import 'tw-animate-css';

/* Dark mode variant */
@custom-variant dark (&:is(.dark *));

/*
 * =============================================================================
 * WEBAPP DEFAULT CSS VARIABLES
 * =============================================================================
 * These define the default values for the webapp's color system.
 * Styleguide components will override these via [data-slot] scoping.
 * This enables the same Tailwind classes to resolve to different colors
 * based on whether they're used in legacy webapp code or styleguide components.
 */
:root {
  /* Primary scale (webapp's dark indigo) */
  --primary: #242d3d;
  --primary-dark: #0d1528;
  --primary-main: #242d3d;
  --primary-light: #484e55;
  --primary-background: #f7fafb;
  --primary-contrast: #ffffff;

  /* Secondary scale (webapp's yellow) */
  --secondary: #ffc523;
  --secondary-dark: #dba219;
  --secondary-main: #ffc523;
  --secondary-light: #ffe291;
  --secondary-background: #fffadf;
  --secondary-contrast: #000000;

  /* Tertiary scale (webapp's purple) */
  --tertiary: #6e37ff;
  --tertiary-dark: #3d1bb7;
  --tertiary-main: #6e37ff;
  --tertiary-light: #ae86ff;
  --tertiary-background: #f8f3ff;
  --tertiary-contrast: #ffffff;

  /* Neutral scale (webapp's indigo-gray) */
  --neutral: #b9c3cc;
  --neutral-dark: #484e55;
  --neutral-main: #b9c3cc;
  --neutral-light: #e0e6ec;
  --neutral-background: #f7fafb;
  --neutral-contrast: #000000;

  /* Error scale */
  --error: #e00c30;
  --error-dark: #93081f;
  --error-main: #e00c30;
  --error-light: #f56c6a;
  --error-background: #ffe8e8;
  --error-contrast: #ffffff;

  /* Success scale */
  --success: #30a541;
  --success-dark: #0f5f31;
  --success-main: #30a541;
  --success-light: #86e382;
  --success-background: #eeffe9;
  --success-contrast: #ffffff;

  /* Info scale */
  --info: #1b6afc;
  --info-dark: #0d3cb5;
  --info-main: #1b6afc;
  --info-light: #75affe;
  --info-background: #e3f1ff;
  --info-contrast: #ffffff;

  /* Warning scale (aligned with Figma semantic colors) */
  --warning: #ff9800;
  --warning-dark: #db7900;
  --warning-main: #ff9800;
  --warning-light: #ffcd66;
  --warning-background: #fff5d5;
  --warning-contrast: #000000;

  /* Gray scale */
  --gray-100: #f8f8f8;
  --gray-200: #e8e8e8;
  --gray-300: #b2b2b2;
  --gray-400: #999999;
  --gray-500: #7f7f7f;
  --gray-600: #666666;
  --gray-700: #4d4d4d;
  --gray-800: #333333;
  --gray-900: #1a1a1a;

  /* Indigo scale */
  --indigo-50: #f7fafb;
  --indigo-100: #eef3f6;
  --indigo-200: #e0e6ec;
  --indigo-300: #b9c3cc;
  --indigo-400: #879099;
  --indigo-500: #484e55;
  --indigo-600: #343d49;
  --indigo-700: #242d3d;
  --indigo-800: #161f31;
  --indigo-900: #0d1528;

  /* Blue scale */
  --blue-50: #e3f1ff;
  --blue-100: #d1e7fe;
  --blue-200: #a3cdfe;
  --blue-300: #75affe;
  --blue-400: #2563eb;
  --blue-500: #1b6afc;
  --blue-600: #1351d8;
  --blue-700: #0d3cb5;
  --blue-800: #082a92;
  --blue-900: #051d78;

  /* Green scale */
  --green-50: #eeffe9;
  --green-100: #dffad6;
  --green-200: #b9f6b0;
  --green-300: #86e382;
  --green-400: #5ec963;
  --green-500: #30a541;
  --green-600: #187637;
  --green-700: #0f5f31;
  --green-800: #094f2d;
  --green-900: #033a20;

  /* Red/Error scale (aligned with Figma error tokens) */
  --red-50: #ffe8e8;
  --red-100: #fdcdcd;
  --red-200: #ffaeae;
  --red-300: #f56c6a;
  --red-400: #ec4451;
  --red-500: #e00c30;
  --red-600: #b90a27;
  --red-700: #93081f;
  --red-800: #6c0617;
  --red-900: #560311;
  --red-950: #370009;

  /* Yellow scale */
  --yellow-50: #fffadf;
  --yellow-100: #fff1c9;
  --yellow-200: #ffedba;
  --yellow-300: #ffe291;
  --yellow-400: #ffe06c;
  --yellow-500: #ffd759;
  --yellow-600: #ffc523;
  --yellow-700: #dba219;
  --yellow-800: #b78211;
  --yellow-900: #93640b;

  /* Orange/Warning scale (aligned with Figma warning tokens) */
  --orange-50: #fff5d5;
  --orange-100: #ffeeb7;
  --orange-200: #fde19a;
  --orange-300: #ffcd66;
  --orange-400: #ffb93f;
  --orange-500: #ff9800;
  --orange-600: #db7900;
  --orange-700: #b75e00;
  --orange-800: #934500;
  --orange-900: #7a3400;
  --orange-950: #471e00;

  /* Lime scale (webapp legacy - used by PromoBanner) */
  --lime-50: #fefff2;
  --lime-100: #fcfee0;
  --lime-200: #f8fdc2;
  --lime-300: #f1fba3;
  --lime-400: #eaf78b;
  --lime-500: #dff265;
  --lime-600: #c5d465;
  --lime-700: #a6b649;
  --lime-800: #889832;
  --lime-900: #6a7a20;

  /* Purple scale */
  --purple-50: #f8f3ff;
  --purple-100: #e6d7ff;
  --purple-200: #cbafff;
  --purple-300: #ae86ff;
  --purple-400: #9669ff;
  --purple-500: #6e37ff;
  --purple-600: #5428db;
  --purple-700: #3d1bb7;
  --purple-800: #2a1193;
  --purple-900: #1c0a7a;

  /* Misc */
  --cream-500: #fcf8f3;
  --cream: #fcf8f3;

  /* Chart/Data visualization colors (from Figma) */
  --chart-1: #5975a6;
  --chart-2: #cda1ff;
  --chart-3: #63d1a0;
  --chart-4: #ffc523;
  --chart-5: #ff9364;
}

/*
 * TAILWIND THEME
 * The @theme block is in styleguide/tailwind-theme.css
 * This keeps globals.css focused on webapp-specific defaults and styles.
 */

@layer components {
  .button-primary {
    background-color: var(--component-button-primary-background-default);
    color: var(--component-button-primary-text-default);
    border-color: var(--component-button-primary-border-default);
    box-shadow: var(--component-button-primary-box-shadow-default);
    opacity: var(--component-button-primary-opacity-default);
  }
  .button-primary:hover:not(:disabled) {
    background-color: var(--component-button-primary-background-hover);
    border-color: var(--component-button-primary-border-hover);
    box-shadow: var(--component-button-primary-box-shadow-hover);
  }
  .button-primary:disabled {
    background-color: var(--component-button-primary-background-disabled);
    color: var(--component-button-primary-text-disabled);
    border-color: var(--component-button-primary-border-disabled);
    opacity: var(--component-button-primary-opacity-disabled);
  }

  .button-secondary {
    background-color: var(--component-button-secondary-background-default);
    color: var(--component-button-secondary-text-default);
    border-color: var(--component-button-secondary-border-default);
    box-shadow: var(--component-button-secondary-box-shadow-default);
    opacity: var(--component-button-secondary-opacity-default);
  }
  .button-secondary:hover:not(:disabled) {
    background-color: var(--component-button-secondary-background-hover);
    border-color: var(--component-button-secondary-border-hover);
  }
  .button-secondary:disabled {
    background-color: var(--component-button-secondary-background-disabled);
    color: var(--component-button-secondary-text-disabled);
    border-color: var(--component-button-secondary-border-disabled);
    opacity: var(--component-button-secondary-opacity-disabled);
  }

  .button-destructive {
    background-color: var(--component-button-destructive-background-default);
    color: var(--component-button-destructive-text-default);
    border-color: var(--component-button-destructive-border-default);
    box-shadow: var(--component-button-destructive-box-shadow-default);
    opacity: var(--component-button-destructive-opacity-default);
  }
  .button-destructive:hover:not(:disabled) {
    background-color: var(--component-button-destructive-background-hover);
    border-color: var(--component-button-destructive-border-hover);
  }
  .button-destructive:disabled {
    background-color: var(--component-button-destructive-background-disabled);
    color: var(--component-button-destructive-text-disabled);
    border-color: var(--component-button-destructive-border-disabled);
    opacity: var(--component-button-destructive-opacity-disabled);
  }

  .button-outline {
    background-color: var(--component-button-outline-background-default);
    color: var(--component-button-outline-text-default);
    border-color: var(--component-button-outline-border-default);
    box-shadow: var(--component-button-outline-box-shadow-default);
    opacity: var(--component-button-outline-opacity-default);
  }
  .button-outline:hover:not(:disabled) {
    background-color: var(--component-button-outline-background-hover);
    border-color: var(--component-button-outline-border-hover);
  }
  .button-outline:disabled {
    background-color: var(--component-button-outline-background-disabled);
    color: var(--component-button-outline-text-disabled);
    border-color: var(--component-button-outline-border-disabled);
    opacity: var(--component-button-outline-opacity-disabled);
  }

  .button-ghost {
    background-color: var(--component-button-ghost-background-default);
    color: var(--component-button-ghost-text-default);
    border-color: var(--component-button-ghost-border-default);
    box-shadow: var(--component-button-ghost-box-shadow-default);
    opacity: var(--component-button-ghost-opacity-default);
  }
  .button-ghost:hover:not(:disabled) {
    background-color: var(--component-button-ghost-background-hover);
    border-color: var(--component-button-ghost-border-hover);
  }
  .button-ghost:disabled {
    background-color: var(--component-button-ghost-background-disabled);
    color: var(--component-button-ghost-text-disabled);
    border-color: var(--component-button-ghost-border-disabled);
    opacity: var(--component-button-ghost-opacity-disabled);
  }

  .button-link {
    background-color: var(--component-button-link-background-default);
    color: var(--component-button-link-text-default);
    border-color: var(--component-button-link-border-default);
    box-shadow: var(--component-button-link-box-shadow-default);
    opacity: var(--component-button-link-opacity-default);
    text-decoration: underline;
    text-underline-offset: 4px;
  }
  .button-link:hover:not(:disabled) {
    background-color: var(--component-button-link-background-hover);
    color: var(--component-button-link-text-hover);
    border-color: var(--component-button-link-border-hover);
  }
  .button-link:disabled {
    background-color: var(--component-button-link-background-disabled);
    color: var(--component-button-link-text-disabled);
    border-color: var(--component-button-link-border-disabled);
    opacity: var(--component-button-link-opacity-disabled);
  }

  /* Loading states preserve original colors */
  .button-primary[data-loading='true'] {
    color: var(--component-button-primary-text-loading);
  }
  .button-secondary[data-loading='true'] {
    color: var(--component-button-secondary-text-loading);
  }
  .button-destructive[data-loading='true'] {
    color: var(--component-button-destructive-text-loading);
  }
  .button-outline[data-loading='true'] {
    color: var(--component-button-outline-text-loading);
  }
  .button-ghost[data-loading='true'] {
    color: var(--component-button-ghost-text-loading);
  }
  .button-link[data-loading='true'] {
    color: var(--component-button-link-text-loading);
  }

  /* White Button Variants */
  .button-whiteGhost {
    background-color: transparent !important;
    color: var(--semantic-text-inverse) !important;
    border: none !important;
    border-color: transparent !important;
    box-shadow: none !important;
    opacity: 1;
  }
  .button-whiteGhost:hover:not(:disabled) {
    background-color: rgba(255, 255, 255, 0.1) !important;
    border: none !important;
    border-color: transparent !important;
    box-shadow: none !important;
  }
  .button-whiteGhost:disabled {
    background-color: transparent !important;
    color: var(--semantic-text-inverse) !important;
    border: none !important;
    border-color: transparent !important;
    box-shadow: none !important;
    opacity: 0.5;
  }

  .button-whiteOutline {
    background-color: transparent;
    color: var(--semantic-text-inverse);
    border: 1px solid var(--semantic-text-inverse);
    opacity: 1;
  }
  .button-whiteOutline:hover:not(:disabled) {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--semantic-text-inverse);
  }
  .button-whiteOutline:disabled {
    background-color: transparent;
    color: var(--semantic-text-inverse);
    border: 1px solid var(--semantic-text-inverse);
    opacity: 0.5;
  }
}

@layer utilities {
  .animate-in {
    animation-name: enter;
    animation-duration: var(--tw-enter-duration, 150ms);
    --tw-enter-opacity: initial;
    --tw-enter-scale: initial;
    --tw-enter-rotate: initial;
    --tw-enter-translate-x: initial;
    --tw-enter-translate-y: initial;
  }

  .animate-out {
    animation-name: exit;
    animation-duration: var(--tw-exit-duration, 150ms);
    --tw-exit-opacity: initial;
    --tw-exit-scale: initial;
    --tw-exit-rotate: initial;
    --tw-exit-translate-x: initial;
    --tw-exit-translate-y: initial;
  }

  .fade-in-0 {
    --tw-enter-opacity: 0;
  }

  .fade-out-0 {
    --tw-exit-opacity: 0;
  }

  .slide-in-from-right {
    --tw-enter-translate-x: 100%;
  }

  .slide-out-to-right {
    --tw-exit-translate-x: 100%;
  }

  .slide-in-from-left {
    --tw-enter-translate-x: -100%;
  }

  .slide-out-to-left {
    --tw-exit-translate-x: -100%;
  }

  .slide-in-from-top {
    --tw-enter-translate-y: -100%;
  }

  .slide-out-to-top {
    --tw-exit-translate-y: -100%;
  }

  .slide-in-from-bottom {
    --tw-enter-translate-y: 100%;
  }

  .slide-out-to-bottom {
    --tw-exit-translate-y: 100%;
  }

  .duration-300 {
    --tw-enter-duration: 300ms;
    --tw-exit-duration: 300ms;
  }

  .duration-500 {
    --tw-enter-duration: 500ms;
    --tw-exit-duration: 500ms;
  }

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate3d(
          var(--tw-enter-translate-x, 0),
          var(--tw-enter-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1)
        )
        rotate(var(--tw-enter-rotate, 0));
    }
  }

  @keyframes exit {
    to {
      opacity: var(--tw-exit-opacity, 1);
      transform: translate3d(
          var(--tw-exit-translate-x, 0),
          var(--tw-exit-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1)
        )
        rotate(var(--tw-exit-rotate, 0));
    }
  }
}

/*
 * Note: shadcn/ui HSL variables are intentionally NOT redefined here.
 * The @theme block above maps Tailwind utilities to our hex CSS variables.
 * Styleguide components use [data-slot] scoping to override these values.
 * 
 * The primary/secondary/etc variables defined in :root at the top of this file
 * use hex values for webapp compatibility. We don't override them with HSL here
 * to avoid conflicts between webapp and styleguide color systems.
 */

/* Fix for DataTableColumnHeader button border */
.button-ghost {
  border: none !important;
}

* {
  line-height: 1.3;
  outline: none;
  border-color: var(--gray-200);
}

*:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

body {
  width: 100%;
  height: 100%;
  font-family: var(--outfit-font);
}

a:hover {
  text-decoration: underline;
}

@layer base {
  /*
   * Restore cursor: pointer for interactive elements.
   * Tailwind v4 preflight doesn't include this by default (unlike v3).
   */
  button,
  [role='button'],
  input[type='button'],
  input[type='submit'],
  input[type='reset'],
  summary {
    cursor: pointer;
  }
}

a.no-underline:hover {
  text-decoration: none;
}

.rep-red {
  color: #bf0020;
}
.dem-blue {
  color: #0027dc;
}

.MuiInputLabel-root.Mui-focused {
  color: #000;
}

.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {
  border-color: #000;
}

.MuiInputLabel-root.Mui-error {
  color: #d32f2f !important;
}

.MuiOutlinedInput-root.Mui-error .MuiOutlinedInput-notchedOutline {
  border-color: #d32f2f !important;
}

strong {
  font-weight: 900;
}

ul {
  display: block;
  list-style-type: disc;
  margin-block-start: 1em;
  margin-block-end: 1em;
  margin-inline-start: 0px;
  margin-inline-end: 0px;
  padding-inline-start: 20px;
}

ul li {
  display: list-item;
}

.row {
  @apply flex items-center;
}
.break-word {
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.text-white {
  color: #fff;
}

@media all {
  .print-page-break {
    display: none;
  }
}

@media print {
  html,
  body {
    height: initial !important;
    overflow: initial !important;
    -webkit-print-color-adjust: exact;
  }
}

@media print {
  .print-page-break {
    margin-top: 1rem;
    display: block;
    page-break-before: always;
  }
  .hidden-for-print {
    display: none;
  }
}

@page {
  size: auto;
  margin: 20mm;
}

.pac-container {
  z-index: 9999 !important;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.pac-item {
  padding: 2px 4px !important;
  border-bottom: 1px solid #f3f4f6 !important;
  cursor: pointer;
  font-family: inherit;
}

.pac-item:hover,
.pac-item-selected {
  background-color: #f9fafb !important;
}

.pac-item:last-child {
  border-bottom: none !important;
}

.pac-matched {
  font-weight: 600;
}

@media (max-width: 768px) {
  .pac-container {
    z-index: 10000 !important;
    position: fixed !important;
    left: 8px !important;
    right: 8px !important;
    width: auto !important;
    max-width: none !important;
    border-radius: 8px;
    margin-top: 4px;
  }

  .pac-item {
    padding: 8px !important;
    font-size: 14px !important;
    line-height: 1 !important;
  }

  .pac-item .pac-icon {
    margin-right: 12px !important;
  }
}
