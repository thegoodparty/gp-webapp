enum TcrComplianceStatus {
  submitted
  pending
  approved
  rejected
  error
}

enum MatchingContactFieldType {
  email
  postalAddress
  phone
}

model TcrCompliance {
  id                    String                     @id @default(cuid())
  ein                   String
  postalAddress         String
  committeeName         String                     @map("committee_name")
  websiteDomain         String                     @map("website_domain")
  filingUrl             String                     @map("filing_url")
  phone                 String
  email                 String
  status                TcrComplianceStatus?       @default(submitted)
  tdlcNumber            String?                    @map("tdlc_number")
  createdAt             DateTime                   @default(now()) @map("created_at")
  updatedAt             DateTime                   @updatedAt @map("updated_at")
  campaign              Campaign                   @relation(fields: [campaignId], references: [id], onDelete: Cascade)
  campaignId            Int                        @unique @map("campaign_id")
  matchingContactFields MatchingContactFieldType[] @default([]) @map("matching_contact_fields")

  peerlyIdentityId              String? @unique @map("peerly_identity_id")
  peerlyRegistrationLink        String? @map("peerly_registration_link")
  peerlyIdentityProfileLink     String? @map("peerly_identity_profile_link")
  peerly10DLCBrandSubmissionKey String? @unique @map("peerly_10dlc_brand_submission_key")

  @@map("tcr_compliance")
}
